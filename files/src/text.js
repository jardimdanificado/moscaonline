import * as util from "./util.js";

/*
export const letters = 
[
    'a',
    'b',
    'c',
    'd',
    'e',
    'f',
    'g',
    'h',
    'i',
    'j',
    'k',
    'l',
    'm',
    'n',
    'o',
    'p',
    'q',
    'r',
    's',
    't',
    'u',
    'v',
    'w',
    'x',
    'y',
    'z',
    'heart',
    'potion',
    'enter',
    'stair',
    'A',
    'B',
    'C',
    'D',
    'E',
    'F',
    'G',
    'H',
    'I',
    'J',
    'K',
    'L',
    'M',
    'N',
    'O',
    'P',
    'Q',
    'R',
    'S',
    'T',
    'U',
    'V',
    'W',
    'X',
    'Y',
    'Z',
    'arrow_left',
    'arrow_right',
    'arrow_up',
    'arrow_down',
    '0',
    '1',
    '2',
    '3',
    '4',
    '5',
    '6',
    '7',
    '8',
    '9',
    '!',
    '@',
    '#',
    '$',
    '%',
    '^',
    '&',
    '*',
    '(',
    ')',
    '=',
    '-',
    '\\',
    "'",
    ',',
    '.',
    '/',
    '+',
    '_',
    '|',
    '"',
    '<',
    '>',
    '?',
    '[',
    ']',
    '{',
    '}',
    '`',
    '~',
    ',',
    '.',
    '<',
    '>',
    ';',
    ':',
    'shield',
    'tridude',
    'block',
    'empty',
    '!!',
];*/

export const letters = {
    'a': 0,
    'b': 1,
    'c': 2,
    'd': 3,
    'e': 4,
    'f': 5,
    'g': 6,
    'h': 7,
    'i': 8,
    'j': 9,
    'k': 10,
    'l': 11,
    'm': 12,
    'n': 13,
    'o': 14,
    'p': 15,
    'q': 16,
    'r': 17,
    's': 18,
    't': 19,
    'u': 20,
    'v': 21,
    'w': 22,
    'x': 23,
    'y': 24,
    'z': 25,
    'heart': 26,
    'potion': 27,
    'enter': 28,
    'stair': 29,
    'A': 30,
    'B': 31,
    'C': 32,
    'D': 33,
    'E': 34,
    'F': 35,
    'G': 36,
    'H': 37,
    'I': 38,
    'J': 39,
    'K': 40,
    'L': 41,
    'M': 42,
    'N': 43,
    'O': 44,
    'P': 45,
    'Q': 46,
    'R': 47,
    'S': 48,
    'T': 49,
    'U': 50,
    'V': 51,
    'W': 52,
    'X': 53,
    'Y': 54,
    'Z': 55,
    'arrow_left': 56,
    'arrow_right': 57,
    'arrow_up': 58,
    'arrow_down': 59,
    '0': 60,
    '1': 61,
    '2': 62,
    '3': 63,
    '4': 64,
    '5': 65,
    '6': 66,
    '7': 67,
    '8': 68,
    '9': 69,
    '!': 70,
    '@': 71,
    '#': 72,
    '$': 73,
    '%': 74,
    '^': 75,
    '&': 76,
    '*': 77,
    '(': 78,
    ')': 79,
    '=': 80,
    '-': 81,
    '\\': 82,
    "'": 83,
    ',': 84,
    '.': 85,
    '/': 86,
    '+': 87,
    '_': 88,
    '|': 89,
    '"': 90,
    '<': 91,
    '>': 92,
    '?': 93,
    '[': 94,
    ']': 95,
    '{': 96,
    '}': 97,
    '`': 98,
    '~': 99,
    ',': 100,
    '.': 101,
    '<': 102,
    '>': 103,
    ';': 104,
    ':': 105,
    'shield': 106,
    'tridude': 107,
    'block': 108,
    'empty': 109,
    '!!': 110,
};

let sprites = []

export function loadAlphabet(session,promiselist,callback) {
    const src = './data/img/alphabet.bmp';
    promiselist.push(callback(src).then((image) => 
    {
        sprites = util.splitSpriteSheet(image, 8, 8, [0,0,0]);
    }))
}

export function printText(session,txt,position)
{
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    for (let index = 0; index < txt.length; index++) 
    {
        if(txt[index] !== ' ')
           ctx.drawImage(sprites[letters[txt[index]]], position.x+(8*index), position.y);
    }
}